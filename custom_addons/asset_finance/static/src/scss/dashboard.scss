// Finance Dashboard Styles
// Fix for dashboard layout issues

// CRITICAL: Override Odoo's kanban view default flexbox behavior
// Odoo kanban views wrap cards in flex containers that default to column layout
.o_kanban_view.o_kanban_dashboard {
    // Force the kanban container itself to be full width
    .o_kanban_record {
        max-width: 100% !important;
        flex-grow: 0 !important;
        flex-shrink: 0 !important;
        flex-basis: 100% !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    // Remove any default kanban column behavior
    .o_kanban_group {
        flex: 1 1 100% !important;
        max-width: 100% !important;
    }
}

.o_finance_dashboard {
    max-width: 100%;
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;

    .card {
        display: flex;
        flex-direction: column;
        min-height: 1px;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 1px solid rgba(0,0,0,.125);
        border-radius: 0.25rem;
        height: 100%;

        &.bg-primary {
            background-color: #007bff !important;
            border-color: #007bff !important;
        }

        &.bg-success {
            background-color: #28a745 !important;
            border-color: #28a745 !important;
        }

        &.bg-warning {
            background-color: #ffc107 !important;
            border-color: #ffc107 !important;
        }

        &.bg-danger {
            background-color: #dc3545 !important;
            border-color: #dc3545 !important;
        }

        &.bg-info {
            background-color: #17a2b8 !important;
            border-color: #17a2b8 !important;
        }
    }

    .card-body {
        flex: 1 1 auto;
        padding: 1.25rem;
    }

    .card-header {
        padding: 0.75rem 1.25rem;
        margin-bottom: 0;
        background-color: rgba(0,0,0,.03);
        border-bottom: 1px solid rgba(0,0,0,.125);
        border-radius: calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0;

        &.bg-info {
            background-color: #17a2b8 !important;
            border-color: #17a2b8 !important;
        }

        &.bg-success {
            background-color: #28a745 !important;
            border-color: #28a745 !important;
        }
    }

    // Fix row layout - FORCE horizontal wrapping
    .row {
        display: flex !important;
        flex-wrap: wrap !important;
        flex-direction: row !important; // CRITICAL: Force row direction
        margin-right: -15px;
        margin-left: -15px;
        width: 100% !important;
    }

    // Fix column layout - force horizontal layout
    [class*="col-"] {
        position: relative;
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
        flex-basis: 0;
        flex-grow: 1;
        box-sizing: border-box; // Ensure padding doesn't break layout
    }

    // Force 4-column layout on all screen sizes for top cards
    // Using more specific selector to override Odoo defaults
    .col-lg-3.col-md-6 {
        flex: 0 0 25% !important;
        max-width: 25% !important;
        min-width: 25% !important; // Prevent shrinking below 25%
    }

    .col-md-6 {
        flex: 0 0 50%;
        max-width: 50%;
    }

    .col-12 {
        flex: 0 0 100%;
        max-width: 100%;
    }

    .col {
        flex: 1 0 0%;
        max-width: 100%;
    }

    // Override to ensure horizontal layout even on smaller screens
    @media (max-width: 991px) {
        .col-lg-3 {
            flex: 0 0 25%;
            max-width: 25%;
        }
    }

    @media (max-width: 767px) {
        .col-md-6 {
            flex: 0 0 50%;
            max-width: 50%;
        }
    }

    // Text colors
    .text-white {
        color: #fff !important;
    }

    .text-white-50 {
        color: rgba(255,255,255,.5) !important;
    }

    .text-success {
        color: #28a745 !important;
    }

    .text-info {
        color: #17a2b8 !important;
    }

    .text-warning {
        color: #ffc107 !important;
    }

    .text-danger {
        color: #dc3545 !important;
    }

    .text-muted {
        color: #6c757d !important;
    }

    // Utilities
    .mb-0 { margin-bottom: 0 !important; }
    .mb-1 { margin-bottom: 0.25rem !important; }
    .mb-3 { margin-bottom: 1rem !important; }
    .mb-4 { margin-bottom: 1.5rem !important; }

    .opacity-50 {
        opacity: 0.5 !important;
    }

    .d-flex {
        display: flex !important;
    }

    .justify-content-between {
        justify-content: space-between !important;
    }

    .text-center {
        text-align: center !important;
    }

    .text-uppercase {
        text-transform: uppercase !important;
    }
}
